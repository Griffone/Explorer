---
import MainLayout from "@layouts/MainLayout.astro"
import "@styles/materials.sass"
import "@styles/shapes.sass"
---

<MainLayout title="Pattern creator" description="Quick and dirty pattern maker">
	<meta content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" name="viewport" slot="head">
	<main>
		<canvas id="background"></canvas>
		<canvas id="main"></canvas>
		<div class="controls">
			<input id="color" type="color"></input>
			<button id="clear">Clear</button>
			<button id="save">Save</button>
		</div>
		<a hidden id="save" href="" download="pattern.png"/>
	</main>
</MainLayout>

<script>
	import "@scripts/pattern"
</script>

<style lang="sass">
html,body,main
	width: 100%
	height: 100%
	margin: 0
	padding: 0
	overflow: hidden

canvas#background
	width: 100%
	height: 100%
	background: #ccc

canvas#main
	position: absolute
	top: 50%
	left: 50%
	transform: translate(-50%, -50%)
	width: 50vmin
	height: 50vmin
	background: #fff

input,button
	width: 10vmin
	height: 4vmin

div.controls
	position: absolute
	display: flex
	width: 50vmin
	top: calc(50% + 26vmin)
	left: calc(50% - 25vmin)
	justify-content: space-evenly
	gap: 1vmin
	flex-flow: row wrap

	&>*
		flex-basis: 1
</style>
