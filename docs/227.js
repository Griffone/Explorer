"use strict";(self.webpackChunktechnomunk_github_io=self.webpackChunktechnomunk_github_io||[]).push([[227],{227:(e,t,r)=>{r.r(t);var n=r(314),i=r(92);const o=document.getElementById("main-canvas"),s=o.getContext("2d"),a=16;let l=Math.floor(window.innerWidth/a),d=Math.floor(window.innerHeight/a);o.width=l*a,o.height=d*a;let h=n.Pd.random(l,d);function u(){s.strokeStyle="#CCCCCC";for(let e=0;e<=l;++e)s.moveTo(e*a,0),s.lineTo(e*a,a*d);for(let e=0;e<=d;++e)s.moveTo(0,e*a),s.lineTo(a*l,e*a);s.stroke()}function c(e,t,r){const n=r*l+t,i=1<<n%8;return(e[Math.floor(n/8)]&i)===i}function _(){const e=new Uint8Array(i.memory.buffer,h.cells_ptr(),h.cells_size());s.beginPath();for(let t=0;t<d;++t)for(let r=0;r<l;++r)s.fillStyle=c(e,r,t)?"#000000":"#FFFFFF",s.fillRect(r*a,t*a,15,15);s.stroke()}window.addEventListener("resize",(()=>{l=Math.floor(window.innerWidth/a),d=Math.floor(window.innerHeight/a),o.width=l*a,o.height=d*a,h.free(),h=n.Pd.random(l,d),requestAnimationFrame((()=>{u(),_()}))})),o.addEventListener("click",(e=>{const t=o.getBoundingClientRect(),{x:r,y:n}=(s=t,{x:((i=e).x-s.x)/s.width,y:(i.y-s.y)/s.height});var i,s;e.ctrlKey?h.spawn_glider(Math.floor(r*l),Math.floor(n*d)):h.toggle(Math.floor(r*l),Math.floor(n*d)),requestAnimationFrame(_)})),window.addEventListener("keypress",(e=>{" "==e.key&&(h.tick(),requestAnimationFrame(_))})),u(),_()},314:(e,t,r)=>{r.d(t,{Pd:()=>s,T6:()=>a,Or:()=>l});var n=r(92);e=r.hmd(e);let i=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});i.decode();let o=null;class s{static __wrap(e){const t=Object.create(s.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();n.__wbg_universe_free(e)}tick(){n.universe_tick(this.ptr)}static empty(e,t){var r=n.universe_empty(e,t);return s.__wrap(r)}static random(e,t){var r=n.universe_random(e,t);return s.__wrap(r)}width(){return n.universe_width(this.ptr)>>>0}height(){return n.universe_height(this.ptr)>>>0}cells_ptr(){return n.universe_cells_ptr(this.ptr)}cells_size(){return n.universe_cells_size(this.ptr)>>>0}toggle(e,t){n.universe_toggle(this.ptr,e,t)}spawn_glider(e,t){n.universe_spawn_glider(this.ptr,e,t)}}const a="function"==typeof Math.random?Math.random:("Math.random",()=>{throw new Error("Math.random is not defined")});function l(e,t){throw new Error((r=e,s=t,i.decode((null!==o&&o.buffer===n.memory.buffer||(o=new Uint8Array(n.memory.buffer)),o).subarray(r,r+s))));var r,s}},92:(e,t,r)=>{var n=r.w[e.id];e.exports=n,r(314),n[""]()}}]);