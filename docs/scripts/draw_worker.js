(()=>{"use strict";const t=1/6;class i{constructor(t,i){this.re=0,this.im=0,this.re=t,this.im=i}add(t){return this.re+=t.re,this.im+=t.im,this}sqr(){let t=this.re,i=this.im;return this.re=t*t-i*i,this.im=2*t*i,this}mag2(){return this.re*this.re+this.im*this.im}}function e(t,e){let r=new i(t.re,t.im);var a=0;for(a=0;a<e;++a){if(t.mag2()>4)return[a,t];t.sqr().add(r)}return[a,t]}function r(i,e){return i===e?[0,0,0]:(r=i/e)<t?[255,r/t*255,0]:r<2*t?[255*(2-r/t),255,0]:r<.5?[0,255,(r-2*t)/t*255]:r<4*t?[0,255*(2-(r-2*t)/t),255]:r<5*t?[(r-4*t)/t*255,0,255]:[255,0,255*(2-(r-4*t)/t)];var r}onmessage=t=>{!function(t,a,s){let h=t.data;var n=0,d=0,m=0,o=[0,0,0],u=0,c=0;for(new i(0,0),c=0;c<t.height;++c)for(m=a.y+a.height*c/t.height,u=0;u<t.width;++u)d=a.x+a.width*u/t.width,o=r(e(new i(d,m),s)[0],s),h[n++]=o[0],h[n++]=o[1],h[n++]=o[2],h[n++]=255}(new ImageData(new Uint8ClampedArray(t.data.pixels),t.data.width,t.data.height),t.data.rect,t.data.limit),postMessage(t.data,[t.data.pixels])}})();