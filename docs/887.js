"use strict";(self.webpackChunktechnomunk_github_io=self.webpackChunktechnomunk_github_io||[]).push([[887],{887:(e,t,n)=>{n.r(t);var r=n(920),i=n(137);const o=document.getElementById("main-canvas"),s=o.getContext("2d"),l=document.getElementById("speed-select"),c=document.getElementById("speed-indicator"),a=document.getElementById("pause-resume"),u=a.getElementsByTagName("img")[0],d=16,h=[2e3,1e3,500,250,100,50,10];let m=Math.ceil(window.innerWidth/d),f=Math.ceil(window.innerHeight/d),_=h[0],w=!0;o.width=m*d,o.height=f*d;let g=r.Pd.random(m,f),p="full",y=Date.now();function v(){w?(u.src="images/pause.svg",u.alt="pause"):(u.src="images/resume.svg",u.alt="resume")}function k(){g.tick(),p="cells"}function M(){_=h[+l.value],c.textContent=1e3/_+"x"}function b(e,t,n){const r=n*m+t,i=1<<r%8;return(e[Math.floor(r/8)]&i)===i}function x(){const e=new Uint8Array(i.memory.buffer,g.cells_ptr(),g.cells_size());s.beginPath();for(let t=0;t<f;++t)for(let n=0;n<m;++n)s.fillStyle=b(e,n,t)?"#47BA00":"#D0D0D0",s.fillRect(n*d,t*d,15,15);s.stroke()}window.addEventListener("resize",(()=>{m=Math.ceil(window.innerWidth/d),f=Math.ceil(window.innerHeight/d),o.width=m*d,o.height=f*d,g.free(),g=r.Pd.random(m,f),p="full"})),document.getElementById("step").onclick=k,o.addEventListener("click",(e=>{const t=o.getBoundingClientRect(),{x:n,y:r}=(s=t,{x:((i=e).x-s.x)/s.width,y:(i.y-s.y)/s.height});var i,s;e.ctrlKey||e.metaKey?g.spawn_glider(Math.floor(n*m),Math.floor(r*f)):g.toggle(Math.floor(n*m),Math.floor(r*f)),p="cells"})),window.addEventListener("keypress",(e=>{" "==e.key&&k()})),l.min="0",l.max=""+(h.length-1),l.oninput=M,M(),a.onclick=()=>{w=!w,v()},v(),function e(){const t=Date.now();switch(w&&t-y>=_&&(g.tick(),y=t,"full"!=p&&(p="cells")),p){case"full":!function(){s.strokeStyle="#000000";for(let e=0;e<=m;++e)s.moveTo(e*d,0),s.lineTo(e*d,d*f);for(let e=0;e<=f;++e)s.moveTo(0,e*d),s.lineTo(d*m,e*d);s.stroke()}(),x();break;case"cells":x()}requestAnimationFrame(e)}()},920:(e,t,n)=>{n.d(t,{Pd:()=>s,PI:()=>l,Or:()=>c});var r=n(137);e=n.hmd(e);let i=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});i.decode();let o=null;class s{static __wrap(e){const t=Object.create(s.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_universe_free(e)}tick(){r.universe_tick(this.ptr)}static empty(e,t){const n=r.universe_empty(e,t);return s.__wrap(n)}static random(e,t){const n=r.universe_random(e,t);return s.__wrap(n)}width(){return r.universe_width(this.ptr)>>>0}height(){return r.universe_height(this.ptr)>>>0}cells_ptr(){return r.universe_cells_ptr(this.ptr)}cells_size(){return r.universe_cells_size(this.ptr)>>>0}toggle(e,t){r.universe_toggle(this.ptr,e,t)}spawn_glider(e,t){r.universe_spawn_glider(this.ptr,e,t)}}const l="function"==typeof Math.random?Math.random:("Math.random",()=>{throw new Error("Math.random is not defined")});function c(e,t){throw new Error((n=e,s=t,i.decode((null!==o&&o.buffer===r.memory.buffer||(o=new Uint8Array(r.memory.buffer)),o).subarray(n,n+s))));var n,s}},137:(e,t,n)=>{var r=n.w[e.id];e.exports=r,n(920),r[""]()}}]);