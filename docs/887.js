"use strict";(self.webpackChunktechnomunk_github_io=self.webpackChunktechnomunk_github_io||[]).push([[887],{887:(e,t,r)=>{r.r(t);var n=r(314),i=r(92);const o=document.getElementById("main-canvas"),s=o.getContext("2d"),l=document.getElementById("speed-select"),a=document.getElementById("speed-indicator"),c=document.getElementById("pause-resume"),u=c.getElementsByTagName("img")[0],d=16,h=[2e3,1e3,500,250,100,50,10];let m=Math.ceil(window.innerWidth/d),f=Math.ceil(window.innerHeight/d),_=h[0],w=!0;o.width=m*d,o.height=f*d;let g=n.Pd.random(m,f),p="full",y=Date.now();function v(){w?(u.src="images/pause.svg",u.alt="pause"):(u.src="images/resume.svg",u.alt="resume")}function k(){g.tick(),p="cells"}function M(){_=h[+l.value],a.textContent=1e3/_+"x"}function b(e,t,r){const n=r*m+t,i=1<<n%8;return(e[Math.floor(n/8)]&i)===i}function x(){const e=new Uint8Array(i.memory.buffer,g.cells_ptr(),g.cells_size());s.beginPath();for(let t=0;t<f;++t)for(let r=0;r<m;++r)s.fillStyle=b(e,r,t)?"#47BA00":"#D0D0D0",s.fillRect(r*d,t*d,15,15);s.stroke()}window.addEventListener("resize",(()=>{m=Math.ceil(window.innerWidth/d),f=Math.ceil(window.innerHeight/d),o.width=m*d,o.height=f*d,g.free(),g=n.Pd.random(m,f),p="full"})),document.getElementById("step").onclick=k,o.addEventListener("click",(e=>{const t=o.getBoundingClientRect(),{x:r,y:n}=(s=t,{x:((i=e).x-s.x)/s.width,y:(i.y-s.y)/s.height});var i,s;e.ctrlKey||e.metaKey?g.spawn_glider(Math.floor(r*m),Math.floor(n*f)):g.toggle(Math.floor(r*m),Math.floor(n*f)),p="cells"})),window.addEventListener("keypress",(e=>{" "==e.key&&k()})),l.min="0",l.max=""+(h.length-1),l.oninput=M,M(),c.onclick=()=>{w=!w,v()},v(),function e(){const t=Date.now();switch(w&&t-y>=_&&(g.tick(),y=t,"full"!=p&&(p="cells")),p){case"full":!function(){s.strokeStyle="#000000";for(let e=0;e<=m;++e)s.moveTo(e*d,0),s.lineTo(e*d,d*f);for(let e=0;e<=f;++e)s.moveTo(0,e*d),s.lineTo(d*m,e*d);s.stroke()}(),x();break;case"cells":x()}requestAnimationFrame(e)}()},314:(e,t,r)=>{r.d(t,{Pd:()=>s,T6:()=>l,Or:()=>a});var n=r(92);e=r.hmd(e);let i=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});i.decode();let o=null;class s{static __wrap(e){const t=Object.create(s.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();n.__wbg_universe_free(e)}tick(){n.universe_tick(this.ptr)}static empty(e,t){var r=n.universe_empty(e,t);return s.__wrap(r)}static random(e,t){var r=n.universe_random(e,t);return s.__wrap(r)}width(){return n.universe_width(this.ptr)>>>0}height(){return n.universe_height(this.ptr)>>>0}cells_ptr(){return n.universe_cells_ptr(this.ptr)}cells_size(){return n.universe_cells_size(this.ptr)>>>0}toggle(e,t){n.universe_toggle(this.ptr,e,t)}spawn_glider(e,t){n.universe_spawn_glider(this.ptr,e,t)}}const l="function"==typeof Math.random?Math.random:("Math.random",()=>{throw new Error("Math.random is not defined")});function a(e,t){throw new Error((r=e,s=t,i.decode((null!==o&&o.buffer===n.memory.buffer||(o=new Uint8Array(n.memory.buffer)),o).subarray(r,r+s))));var r,s}},92:(e,t,r)=>{var n=r.w[e.id];e.exports=n,r(314),n[""]()}}]);