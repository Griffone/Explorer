(()=>{"use strict";var t={750:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GestureDecoder=void 0,e.GestureDecoder=class{constructor(t){this.cache=[],this.x=0,this.y=0,this.delta=0,t.addEventListener("pointerdown",this.handlePointerDown.bind(this)),t.addEventListener("pointermove",this.handlePointerMove.bind(this)),t.addEventListener("pointerup",this.handlePointerUp.bind(this)),t.addEventListener("pointercancel",this.handlePointerUp.bind(this)),t.addEventListener("pointerout",this.handlePointerUp.bind(this)),t.addEventListener("pointerleave",this.handlePointerUp.bind(this))}on(t,e){switch(t){case"dragstart":this.dragStartHandler=e;break;case"dragupdate":this.dragUpdateHandler=e;break;case"dragstop":this.dragStopHandler=e;break;case"zoomstart":this.zoomStartHandler=e;break;case"zoomupdate":this.zoomUpdateHandler=e;break;case"zoomstop":this.zoomStopHandler=e}}handlePointerDown(t){switch(this.cache.push(t),this.cache.length){case 1:this.startDrag();break;case 2:this.stopDrag(),this.startZoom();break;case 3:this.stopZoom()}}handlePointerMove(t){for(var e=0;e<this.cache.length;++e)if(this.cache[e].pointerId==t.pointerId){this.cache[e]=t;break}switch(this.cache.length){case 1:this.updateDrag();break;case 2:this.updateZoom()}}handlePointerUp(t){let e=!1;switch(this.cache.length){case 1:this.stopDrag();break;case 2:this.stopZoom(),e=!0;break;case 3:this.startZoom()}for(var i=0;i<this.cache.length;++i)if(this.cache[i].pointerId==t.pointerId){this.cache.splice(i,1);break}e&&this.startDrag()}startDrag(){this.x=this.cache[0].clientX,this.y=this.cache[0].clientY,null!=this.dragStartHandler&&this.dragStartHandler({x:this.cache[0].clientX-this.x,y:this.cache[0].clientY-this.y})}updateDrag(){null!=this.dragUpdateHandler&&this.dragUpdateHandler({x:this.cache[0].clientX-this.x,y:this.cache[0].clientY-this.y})}stopDrag(){null!=this.dragStopHandler&&this.dragStopHandler({x:this.cache[0].clientX-this.x,y:this.cache[0].clientY-this.y})}startZoom(){let t=this.cache[0].clientX-this.cache[1].clientX,e=this.cache[0].clientY-this.cache[1].clientY;if(this.delta=Math.sqrt(t*t+e*e),null!=this.zoomStartHandler){let t=(this.cache[0].clientX+this.cache[1].clientX)/2,e=(this.cache[0].clientY+this.cache[1].clientY)/2;this.zoomStartHandler({x:t,y:e,scale:1})}}updateZoom(){if(null!=this.zoomUpdateHandler){let t=(this.cache[0].clientX+this.cache[1].clientX)/2,e=(this.cache[0].clientY+this.cache[1].clientY)/2,i=this.cache[0].clientX-this.cache[1].clientX,r=this.cache[0].clientY-this.cache[1].clientY,s=Math.sqrt(i*i+r*r);this.zoomUpdateHandler({x:t,y:e,scale:s/this.delta})}}stopZoom(){if(null!=this.zoomStopHandler){let t=(this.cache[0].clientX+this.cache[1].clientX)/2,e=(this.cache[0].clientY+this.cache[1].clientY)/2,i=this.cache[0].clientX-this.cache[1].clientX,r=this.cache[0].clientY-this.cache[1].clientY,s=Math.sqrt(i*i+r*r);this.zoomStopHandler({x:t,y:e,scale:s/this.delta})}}}},940:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(t,e,r){this.width=i.DEFAULT_WIDTH,this.margin=i.DEFAULT_MARGIN,this.menu=t,this.button=e,null!=r&&(this.width=r.width||i.DEFAULT_WIDTH,this.margin=r.margin||i.DEFAULT_MARGIN),this.button.addEventListener("click",this.toggle.bind(this))}open(){this.menu.style.width=`${this.width}pt`,this.button.style.marginRight=`${this.width+this.margin}pt`}close(){this.menu.style.width="0",this.button.style.marginRight=`${this.margin}pt`}toggle(){this.menu.style.width===`${this.width}pt`?this.close():this.open()}}e.default=i,i.DEFAULT_WIDTH=300,i.DEFAULT_MARGIN=20},709:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ATTRIB_NAME_VERTEX_POSITION=e.setupScreenRenderer=void 0,e.setupScreenRenderer=function(t,s){const h=function(t,e){const r=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))return console.error("Failed to compile vertex shader:\n"+t.getShaderInfoLog(r)),void t.deleteShader(r);const s=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(s,e),t.compileShader(s),!t.getShaderParameter(s,t.COMPILE_STATUS))return console.error("Failed to compile fragment shader:\n"+t.getShaderInfoLog(s)),t.deleteShader(r),void t.deleteShader(s);const h=t.createProgram();return t.attachShader(h,r),t.attachShader(h,s),t.linkProgram(h),t.getProgramParameter(h,t.LINK_STATUS)?(t.deleteShader(r),t.deleteShader(s),h):(console.error("Failed to link shader program:\n"+t.getProgramInfoLog(h)),t.deleteShader(r),t.deleteShader(s),void t.deleteProgram(h))}(t,s);if(null!=h)return function(t,i){const s=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,s),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW);const h=t.getAttribLocation(i,e.ATTRIB_NAME_VERTEX_POSITION);t.vertexAttribPointer(h,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(h)}(t,h),h},e.ATTRIB_NAME_VERTEX_POSITION="aPos";const i=`attribute lowp vec2 ${e.ATTRIB_NAME_VERTEX_POSITION};void main(){gl_Position=vec4(${e.ATTRIB_NAME_VERTEX_POSITION},0,1);}`,r=new Float32Array([1,1,-1,1,1,-1,-1,-1])},454:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Viewer=void 0;const r=i(709);class s{constructor(t,e,i){this.gl=t,this.program=e,this.uniforms=i}set(t,e,i,r,s){this.gl.useProgram(this.program),null!=i?null!=r?null!=s?this.gl.uniform4f(this.uniforms[t],e,i,r,s):this.gl.uniform3f(this.uniforms[t],e,i,r):this.gl.uniform2f(this.uniforms[t],e,i):this.gl.uniform1f(this.uniforms[t],e)}seti(t,e,i,r,s){this.gl.useProgram(this.program),null!=i?null!=r?null!=s?this.gl.uniform4i(this.uniforms[t],e,i,r,s):this.gl.uniform3i(this.uniforms[t],e,i,r):this.gl.uniform2i(this.uniforms[t],e,i):this.gl.uniform1i(this.uniforms[t],e)}draw(){this.gl.useProgram(this.program),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}requestDraw(){requestAnimationFrame((()=>this.draw()))}}e.Viewer=s,e.default=function(t,e,i){const h=t.getContext("webgl");if(null==h)return void console.error("Failed to get a WebGL context!");const n=r.setupScreenRenderer(h,e);if(null==n)return void console.error("Failed to setup screen renderer!");let a={};for(const t in i){const e=h.getUniformLocation(n,t);if(null==e)return console.error(`Failed to find "${t}" uniform in the supplied shader!`),void h.deleteProgram(n);a[t]=e}return new s(h,n,a)}}},e={};function i(r){var s=e[r];if(void 0!==s)return s.exports;var h=e[r]={exports:{}};return t[r](h,h.exports,i),h.exports}(()=>{const t=i(750),e=i(940),r=i(454);fetch("shaders/mandel.fs").then((t=>t.text())).then((e=>function(e){let i=document.getElementById("canvas");i.width=window.innerWidth,i.height=window.innerHeight;let s=r.default(i,e,{uRes:null,uRect:null,uLimit:null,uLimitColor:null});if(null==s)return void alert("Failed to setup WebGL :(");const h=document.getElementById("limit"),n=i.width/i.height;let a=new DOMRect(-1*n,-1,2*n,2);s.set("uRes",i.width,i.height),s.set("uRect",a.x,a.y,a.width,a.height),s.seti("uLimit",Number(h.value)),s.set("uLimitColor",0,0,0,1),s.requestDraw(),window.addEventListener("resize",(()=>{if(i.width=window.innerWidth,i.height=window.innerHeight,null!=s){const t=i.width/i.height;a.x=-1*t,a.y=-1,a.width=2*t,a.height=2,s.set("uRes",i.width,i.height),s.set("uRect",a.x,a.y,a.width,a.height),s.requestDraw()}})),h.addEventListener("input",(()=>{s.seti("uLimit",Number(h.value)),s.requestDraw()}));const o=(t,e,r)=>{const h=t/i.width,n=1-e/i.height;a.x+=a.width*h*(r-1),a.y+=a.height*n*(r-1),a.width/=r,a.height/=r,s.set("uRect",a.x,a.y,a.width,a.height),s.requestDraw()};let c=new t.GestureDecoder(i),l=0,d=0;const u=t=>{const e=t.x-l,r=t.y-d;0==e&&0==r||((t,e)=>{a.x-=t/i.width*a.width,a.y+=e/i.height*a.height,s.set("uRect",a.x,a.y,a.width,a.height),s.requestDraw()})(e,r),l=t.x,d=t.y};let g=1;const m=t=>{if(u(t),g!=t.scale){const e=t.scale/g;o(t.x,t.y,e)}g=t.scale};return c.on("dragstart",(({x:t,y:e})=>{l=t,d=e})),c.on("dragupdate",u),c.on("dragstop",u),c.on("zoomstart",(({x:t,y:e,scale:i})=>{l=t,d=e,g=i})),c.on("zoomupdate",m),c.on("zoomstop",m),i.addEventListener("wheel",(({x:t,y:e,deltaY:i})=>{o(t,e,1+-.001*i)})),s}(e))),window.onload=()=>{new e.default(document.getElementById("side-menu"),document.getElementById("toggle-menu"))}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZWNobm9tdW5rLmdpdGh1Yi5pby8uL3NyYy9saWIvZ2VzdHVyZS50cyIsIndlYnBhY2s6Ly90ZWNobm9tdW5rLmdpdGh1Yi5pby8uL3NyYy9saWIvc2lkZV9tZW51LnRzIiwid2VicGFjazovL3RlY2hub211bmsuZ2l0aHViLmlvLy4vc3JjL3dlYmdsL2ZyYWdfcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vdGVjaG5vbXVuay5naXRodWIuaW8vLi9zcmMvd2ViZ2wvdmlld2VyLnRzIiwid2VicGFjazovL3RlY2hub211bmsuZ2l0aHViLmlvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3RlY2hub211bmsuZ2l0aHViLmlvLy4vc3JjL3dlYmdsL21haW4udHMiXSwibmFtZXMiOlsiZWxlbWVudCIsImNhY2hlIiwieCIsInkiLCJkZWx0YSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0aGlzIiwiaGFuZGxlUG9pbnRlckRvd24iLCJiaW5kIiwiaGFuZGxlUG9pbnRlck1vdmUiLCJoYW5kbGVQb2ludGVyVXAiLCJ0eXBlIiwiaGFuZGxlciIsImRyYWdTdGFydEhhbmRsZXIiLCJkcmFnVXBkYXRlSGFuZGxlciIsImRyYWdTdG9wSGFuZGxlciIsInpvb21TdGFydEhhbmRsZXIiLCJ6b29tVXBkYXRlSGFuZGxlciIsInpvb21TdG9wSGFuZGxlciIsImV2ZW50IiwicHVzaCIsImxlbmd0aCIsInN0YXJ0RHJhZyIsInN0b3BEcmFnIiwic3RhcnRab29tIiwic3RvcFpvb20iLCJpIiwicG9pbnRlcklkIiwidXBkYXRlRHJhZyIsInVwZGF0ZVpvb20iLCJkZWZlclN0YXJ0RHJhZyIsInNwbGljZSIsImNsaWVudFgiLCJjbGllbnRZIiwiZGVsdGFYIiwiZGVsdGFZIiwiTWF0aCIsInNxcnQiLCJzY2FsZSIsIlNpZGVNZW51IiwibWVudSIsImJ1dHRvbiIsImNvbmZpZyIsIndpZHRoIiwiREVGQVVMVF9XSURUSCIsIm1hcmdpbiIsIkRFRkFVTFRfTUFSR0lOIiwidG9nZ2xlIiwic3R5bGUiLCJtYXJnaW5SaWdodCIsImNsb3NlIiwib3BlbiIsImdsIiwiZnJhZyIsInNoYWRlciIsInZlcnRleFNoYWRlciIsImNyZWF0ZVNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJzaGFkZXJTb3VyY2UiLCJWRVJURVhfU0hBREVSX1NSQyIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImNvbnNvbGUiLCJlcnJvciIsImdldFNoYWRlckluZm9Mb2ciLCJkZWxldGVTaGFkZXIiLCJmcmFnbWVudFNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsInNoYWRlclByb2dyYW0iLCJjcmVhdGVQcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJnZXRQcm9ncmFtSW5mb0xvZyIsImRlbGV0ZVByb2dyYW0iLCJpbml0U2hhZGVyUHJvZ3JhbSIsInByb2dyYW0iLCJidWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJiaW5kQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiYnVmZmVyRGF0YSIsIlNDUkVFTl9RVUFEX1BPU0lUSU9OUyIsIlNUQVRJQ19EUkFXIiwiYXR0cmliIiwiZ2V0QXR0cmliTG9jYXRpb24iLCJBVFRSSUJfTkFNRV9WRVJURVhfUE9TSVRJT04iLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiRkxPQVQiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsImluaXRRdWFkIiwiRmxvYXQzMkFycmF5IiwiVmlld2VyIiwidW5pZm9ybXMiLCJrZXkiLCJ6IiwidyIsInVzZVByb2dyYW0iLCJ1bmlmb3JtNGYiLCJ1bmlmb3JtM2YiLCJ1bmlmb3JtMmYiLCJ1bmlmb3JtMWYiLCJ1bmlmb3JtNGkiLCJ1bmlmb3JtM2kiLCJ1bmlmb3JtMmkiLCJ1bmlmb3JtMWkiLCJkcmF3QXJyYXlzIiwiVFJJQU5HTEVfU1RSSVAiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJkcmF3IiwiY2FudmFzIiwiZnJhZ1NyYyIsImdldENvbnRleHQiLCJzZXR1cFNjcmVlblJlbmRlcmVyIiwidW5pZm9ybUxvY2F0aW9ucyIsIm5hbWUiLCJsb2NhdGlvbiIsImdldFVuaWZvcm1Mb2NhdGlvbiIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJ0ZXh0Iiwic3JjIiwiZnJhZ21lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0Iiwidmlld2VyIiwidVJlcyIsInVSZWN0IiwidUxpbWl0IiwidUxpbWl0Q29sb3IiLCJhbGVydCIsImxpbWl0Iiwid2lkdGhUb0hlaWdodCIsInJlY3QiLCJET01SZWN0Iiwic2V0Iiwic2V0aSIsIk51bWJlciIsInZhbHVlIiwicmVxdWVzdERyYXciLCJ6b29tVmlldyIsIm54IiwibnkiLCJnZXN0dXJlRGVjb2RlciIsIkdlc3R1cmVEZWNvZGVyIiwibGFzdFgiLCJsYXN0WSIsImhhbmRsZURyYWciLCJkcmFnIiwiZHgiLCJkeSIsInBhblZpZXciLCJsYXN0U2NhbGUiLCJoYW5kbGVab29tIiwiem9vbSIsImR6Iiwib24iLCJzZXR1cE1hbmRlbGJyb3QiLCJvbmxvYWQiXSwibWFwcGluZ3MiOiIrR0FpQ0EsdUJBa0JDLFlBQW1CQSxHQWpCWCxLQUFBQyxNQUF3QixHQUN4QixLQUFBQyxFQUFZLEVBQ1osS0FBQUMsRUFBWSxFQUNaLEtBQUFDLE1BQWdCLEVBZXZCSixFQUFRSyxpQkFBaUIsY0FBZUMsS0FBS0Msa0JBQWtCQyxLQUFLRixPQUNwRU4sRUFBUUssaUJBQWlCLGNBQWVDLEtBQUtHLGtCQUFrQkQsS0FBS0YsT0FDcEVOLEVBQVFLLGlCQUFp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YSxHQUFHLGFBQWNULEdBQ2hDSixFQUFlYSxHQUFHLFdBQVlULEdBRTlCSixFQUFlYSxHQUFHLGFBQWEsRUFBR3pLLElBQUdDLElBQUdtQyxZQUN2QzBILEVBQVE5SixFQUFHK0osRUFBUTlKLEVBQ25Cb0ssRUFBWWpJLEtBRWJ3SCxFQUFlYSxHQUFHLGFBQWNILEdBQ2hDVixFQUFlYSxHQUFHLFdBQVlILEdBRTlCeEQsRUFBTzNHLGlCQUFpQixTQUFTLEVBQUdILElBQUdDLElBQUdnQyxhQUV6Q3dILEVBQVN6SixFQUFHQyxFQURELEdBbEdhLEtBa0dUZ0MsTUFJVHlHLEVBS01nQyxDQUFnQnhDLEtBRTlCSSxPQUFPcUMsT0FBUyxLQUNGLElBQUksVUFBU3ZDLFNBQVNDLGVBQWUsYUFBZUQsU0FBU0MsZUFBZSxrQiIsImZpbGUiOiJjb21keW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLyoqIEFuIGV2ZW50IHRoYXQgaXMgaW52b2tlZCBieSBkcmFnZ2luZyBnZXN0dXJlcywgZXg6IG1vdXNlLWRyYWcuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRHJhZ0V2ZW50IHtcclxuXHQvKiogQWNjdW11bGF0ZWQgaG9yaXpvbnRhbCBkaXN0YW5jZSBzaW5jZSB0aGUgc3RhcnQgb2YgdGhlIGRyYWcuICovXHJcblx0cmVhZG9ubHkgeDogbnVtYmVyO1xyXG5cdC8qKiBBY2N1bXVsYXRlZCB2ZXJ0aWNhbCBkaXN0YW5jZSBzaW5jZSB0aGUgc3RhcnQgb2YgdGhlIGRyYWcuICovXHJcblx0cmVhZG9ubHkgeTogbnVtYmVyO1xyXG59XHJcblxyXG4vKiogQW4gZXZlbnQgdGhhdCBpcyBpbnZva2VkIGJ5IHpvb21pbmcgZ2VzdHVyZXMsIGV4OiBwaW5jaGluZy4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBab29tRXZlbnQge1xyXG5cdC8qKiBIb3Jpem9udGFsIGNlbnRlciBvZiB0aGUgem9vbS4gKi9cclxuXHRyZWFkb25seSB4OiBudW1iZXI7XHJcblx0LyoqIFZlcnRpY2FsIGNlbnRlciBvZiB0aGUgem9vbS4gKi9cclxuXHRyZWFkb25seSB5OiBudW1iZXI7XHJcblx0LyoqIFRvdGFsIGFjY3VtdWxhdGVkIHNjYWxlIG9mIHRoZSB6b29tLiAqL1xyXG5cdHJlYWRvbmx5IHNjYWxlOiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBFdmVudE1hcCB7XHJcblx0J2RyYWdzdGFydCc6IERyYWdFdmVudCxcclxuXHQnZHJhZ3VwZGF0ZSc6IERyYWdFdmVudCxcclxuXHQnZHJhZ3N0b3AnOiBEcmFnRXZlbnQsXHJcblxyXG5cdCd6b29tc3RhcnQnOiBab29tRXZlbnQsXHJcblx0J3pvb211cGRhdGUnOiBab29tRXZlbnQsXHJcblx0J3pvb21zdG9wJzogWm9vbUV2ZW50LFxyXG59XHJcblxyXG50eXBlIERyYWdFdmVudEhhbmRsZXIgPSAoZXZlbnQ6IERyYWdFdmVudCkgPT4gdm9pZDtcclxudHlwZSBab29tRXZlbnRIYW5kbGVyID0gKGV2ZW50OiBab29tRXZlbnQpID0+IHZvaWQ7XHJcblxyXG4vKiogTXVsdGktdG91Y2ggZ2VzdHVyZSBkZWNvZGVyLiAqL1xyXG5leHBvcnQgY2xhc3MgR2VzdHVyZURlY29kZXIge1xyXG5cdHByaXZhdGUgY2FjaGU6IFBvaW50ZXJFdmVudFtdID0gW107XHJcblx0cHJpdmF0ZSB4OiBudW1iZXIgPSAwO1xyXG5cdHByaXZhdGUgeTogbnVtYmVyID0gMDtcclxuXHRwcml2YXRlIGRlbHRhOiBudW1iZXIgPSAwO1xyXG5cclxuXHRwcml2YXRlIGRyYWdTdGFydEhhbmRsZXI/OiBEcmFnRXZlbnRIYW5kbGVyO1xyXG5cdHByaXZhdGUgZHJhZ1VwZGF0ZUhhbmRsZXI/OiBEcmFnRXZlbnRIYW5kbGVyO1xyXG5cdHByaXZhdGUgZHJhZ1N0b3BIYW5kbGVyPzogRHJhZ0V2ZW50SGFuZGxlcjtcclxuXHJcblx0cHJpdmF0ZSB6b29tU3RhcnRIYW5kbGVyPzogWm9vbUV2ZW50SGFuZGxlcjtcclxuXHRwcml2YXRlIHpvb21VcGRhdGVIYW5kbGVyPzogWm9vbUV2ZW50SGFuZGxlcjtcclxuXHRwcml2YXRlIHpvb21TdG9wSGFuZGxlcj86IFpvb21FdmVudEhhbmRsZXI7XHJcblx0XHJcblx0LyoqIENvbnN0cnVjdCBhIGdlc3R1cmUgZGVjb2RlciBiYXNlZCBvbiBnZXN0dXJlcyBhcHBsaWVkIHRvIHByb3ZpZGVkIGVsZW1lbnQuXHJcblx0ICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgd2hpY2ggZXZlbnRzIHRvIGRlY29kZS4gSXQgaXMgcmVjb21tZW5kZWQgdG8gYWRkXHJcblx0ICogYHRvdWNoLWFjdGlvbjogbm9uZWAgY3NzIHRvIHRoaXMgZWxlbWVudC5cclxuXHQgKi9cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcclxuXHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLmhhbmRsZVBvaW50ZXJEb3duLmJpbmQodGhpcykpO1xyXG5cdFx0ZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMuaGFuZGxlUG9pbnRlck1vdmUuYmluZCh0aGlzKSk7XHJcblx0XHRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMuaGFuZGxlUG9pbnRlclVwLmJpbmQodGhpcykpO1xyXG5cdFx0ZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5oYW5kbGVQb2ludGVyVXAuYmluZCh0aGlzKSk7XHJcblx0XHRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdXQnLCB0aGlzLmhhbmRsZVBvaW50ZXJVcC5iaW5kKHRoaXMpKTtcclxuXHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgdGhpcy5oYW5kbGVQb2ludGVyVXAuYmluZCh0aGlzKSk7XHJcblx0fVxyXG5cclxuXHQvKiogU2V0IHRoZSBoYW5kbGVyIGZvciBldmVudHMgb2YgZ2l2ZW4gdHlwZS5cclxuXHQgKiBAcGFyYW0gdHlwZSBUaGUgdHlwZSBvZiBldmVudHMgdG8gdXNlIHRoZSBwcm92aWRlZCBoYW5kbGVyIGZvci5cclxuXHQgKiBAcGFyYW0gaGFuZGxlciBUaGUgZXZlbnQgaGFuZGxlciB0byB1c2UuXHJcblx0ICovXHJcblx0cHVibGljIG9uPEsgZXh0ZW5kcyBrZXlvZiBFdmVudE1hcD4odHlwZTogSywgaGFuZGxlcjogKGV2ZW50OiBFdmVudE1hcFtLXSkgPT4gdm9pZCk6IHZvaWQge1xyXG5cdFx0c3dpdGNoICh0eXBlKSB7XHJcblx0XHRjYXNlICdkcmFnc3RhcnQnOlxyXG5cdFx0XHR0aGlzLmRyYWdTdGFydEhhbmRsZXIgPSBoYW5kbGVyIGFzIERyYWdFdmVudEhhbmRsZXI7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnZHJhZ3VwZGF0ZSc6XHJcblx0XHRcdHRoaXMuZHJhZ1VwZGF0ZUhhbmRsZXIgPSBoYW5kbGVyIGFzIERyYWdFdmVudEhhbmRsZXI7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnZHJhZ3N0b3AnOlxyXG5cdFx0XHR0aGlzLmRyYWdTdG9wSGFuZGxlciA9IGhhbmRsZXIgYXMgRHJhZ0V2ZW50SGFuZGxlcjtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICd6b29tc3RhcnQnOlxyXG5cdFx0XHR0aGlzLnpvb21TdGFydEhhbmRsZXIgPSBoYW5kbGVyIGFzIFpvb21FdmVudEhhbmRsZXI7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnem9vbXVwZGF0ZSc6XHJcblx0XHRcdHRoaXMuem9vbVVwZGF0ZUhhbmRsZXIgPSBoYW5kbGVyIGFzIFpvb21FdmVudEhhbmRsZXI7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnem9vbXN0b3AnOlxyXG5cdFx0XHR0aGlzLnpvb21TdG9wSGFuZGxlciA9IGhhbmRsZXIgYXMgWm9vbUV2ZW50SGFuZGxlcjtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGhhbmRsZVBvaW50ZXJEb3duKGV2ZW50OiBQb2ludGVyRXZlbnQpIHtcclxuXHRcdHRoaXMuY2FjaGUucHVzaChldmVudCk7XHJcblxyXG5cdFx0Ly8gU3RhcnQgb3Igc3RvcCByZWxldmFudCBnZXN0dXJlcy5cclxuXHRcdHN3aXRjaCAodGhpcy5jYWNoZS5sZW5ndGgpIHtcclxuXHRcdFx0Y2FzZSAxOlxyXG5cdFx0XHRcdHRoaXMuc3RhcnREcmFnKCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgMjpcclxuXHRcdFx0XHR0aGlzLnN0b3BEcmFnKCk7XHJcblx0XHRcdFx0dGhpcy5zdGFydFpvb20oKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAzOlxyXG5cdFx0XHRcdHRoaXMuc3RvcFpvb20oKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHQvLyBEbyBub3RoaW5nLlxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBoYW5kbGVQb2ludGVyTW92ZShldmVudDogUG9pbnRlckV2ZW50KSB7XHJcblx0XHQvLyBVcGRhdGUgZXZlbnRcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jYWNoZS5sZW5ndGg7ICsraSkge1xyXG5cdFx0XHRpZiAodGhpcy5jYWNoZVtpXS5wb2ludGVySWQgPT0gZXZlbnQucG9pbnRlcklkKSB7XHJcblx0XHRcdFx0dGhpcy5jYWNoZVtpXSA9IGV2ZW50O1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0c3dpdGNoICh0aGlzLmNhY2hlLmxlbmd0aCkge1xyXG5cdFx0XHRjYXNlIDE6XHJcblx0XHRcdFx0dGhpcy51cGRhdGVEcmFnKCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgMjpcclxuXHRcdFx0XHR0aGlzLnVwZGF0ZVpvb20oKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHQvLyBEbyBub3RoaW5nLlxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBoYW5kbGVQb2ludGVyVXAoZXZlbnQ6IFBvaW50ZXJFdmVudCkge1xyXG5cdFx0bGV0IGRlZmVyU3RhcnREcmFnID0gZmFsc2U7XHJcblxyXG5cdFx0Ly8gU3RhcnQgb3Igc3RvcCByZWxldmFudCBnZXN0dXJlcy5cclxuXHRcdHN3aXRjaCAodGhpcy5jYWNoZS5sZW5ndGgpIHtcclxuXHRcdFx0Y2FzZSAxOlxyXG5cdFx0XHRcdHRoaXMuc3RvcERyYWcoKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAyOlxyXG5cdFx0XHRcdHRoaXMuc3RvcFpvb20oKTtcclxuXHRcdFx0XHRkZWZlclN0YXJ0RHJhZyA9IHRydWU7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgMzpcclxuXHRcdFx0XHR0aGlzLnN0YXJ0Wm9vbSgpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdC8vIERvIG5vdGhpbmcuXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gUmVtb3ZlIHRoZSBldmVudCBmcm9tIHRoZSBjYWNoZVxyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNhY2hlLmxlbmd0aDsgKytpKSB7XHJcblx0XHRcdGlmICh0aGlzLmNhY2hlW2ldLnBvaW50ZXJJZCA9PSBldmVudC5wb2ludGVySWQpIHtcclxuXHRcdFx0XHR0aGlzLmNhY2hlLnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChkZWZlclN0YXJ0RHJhZykge1xyXG5cdFx0XHR0aGlzLnN0YXJ0RHJhZygpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqIFN0YXJ0IHRoZSBkcmFnIGdlc3R1cmUuXHJcblx0ICpcclxuXHQgKiBVc2VzIHRoaXMuY2FjaGVbMF0gcG9pbnRlci5cclxuXHQgKiBVc2VzIHRoaXMueCBhbmQgdGhpcy55LlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhcnREcmFnKCkge1xyXG5cdFx0dGhpcy54ID0gdGhpcy5jYWNoZVswXS5jbGllbnRYO1xyXG5cdFx0dGhpcy55ID0gdGhpcy5jYWNoZVswXS5jbGllbnRZO1xyXG5cdFx0aWYgKHRoaXMuZHJhZ1N0YXJ0SGFuZGxlciAhPSBudWxsKSB7XHJcblx0XHRcdHRoaXMuZHJhZ1N0YXJ0SGFuZGxlcih7XHJcblx0XHRcdFx0eDogdGhpcy5jYWNoZVswXS5jbGllbnRYIC0gdGhpcy54LFxyXG5cdFx0XHRcdHk6IHRoaXMuY2FjaGVbMF0uY2xpZW50WSAtIHRoaXMueSxcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdC8qKiBDb250aW51ZSB0aGUgZHJhZyBnZXN0dXJlLlxyXG5cdCAqXHJcblx0ICogVXNlcyB0aGlzLmNhY2hlWzBdIHBvaW50ZXIuXHJcblx0ICogVXNlcyB0aGlzLnggYW5kIHRoaXMueS5cclxuXHQgKi9cclxuXHRwcml2YXRlIHVwZGF0ZURyYWcoKSB7XHJcblx0XHRpZiAodGhpcy5kcmFnVXBkYXRlSGFuZGxlciAhPSBudWxsKSB7XHJcblx0XHRcdHRoaXMuZHJhZ1VwZGF0ZUhhbmRsZXIoe1xyXG5cdFx0XHRcdHg6IHRoaXMuY2FjaGVbMF0uY2xpZW50WCAtIHRoaXMueCxcclxuXHRcdFx0XHR5OiB0aGlzLmNhY2hlWzBdLmNsaWVudFkgLSB0aGlzLnksXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHQvKiogU3RvcCB0aGUgZHJhZyBnZXN0dXJlLlxyXG5cdCAqXHJcblx0ICogVXNlcyB0aGlzLmNhY2hlWzBdIHBvaW50ZXIuXHJcblx0ICogVXNlcyB0aGlzLnggYW5kIHRoaXMueS5cclxuXHQgKi9cclxuXHRwcml2YXRlIHN0b3BEcmFnKCkge1xyXG5cdFx0aWYgKHRoaXMuZHJhZ1N0b3BIYW5kbGVyICE9IG51bGwpIHtcclxuXHRcdFx0dGhpcy5kcmFnU3RvcEhhbmRsZXIoe1xyXG5cdFx0XHRcdHg6IHRoaXMuY2FjaGVbMF0uY2xpZW50WCAtIHRoaXMueCxcclxuXHRcdFx0XHR5OiB0aGlzLmNhY2hlWzBdLmNsaWVudFkgLSB0aGlzLnksXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqIFN0YXJ0IHRoZSB6b29tIGdlc3R1cmUuXHJcblx0ICpcclxuXHQgKiBVc2VzIHRoaXMuY2FjaGVbMF0gYW5kIHRoaXMuY2FjaGVbMV0gcG9pbnRlcnMuXHJcblx0ICogVXNlcyB0aGlzLmRlbHRhLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgc3RhcnRab29tKCkge1xyXG5cdFx0bGV0IGRlbHRhWCA9IHRoaXMuY2FjaGVbMF0uY2xpZW50WCAtIHRoaXMuY2FjaGVbMV0uY2xpZW50WDtcclxuXHRcdGxldCBkZWx0YVkgPSB0aGlzLmNhY2hlWzBdLmNsaWVudFkgLSB0aGlzLmNhY2hlWzFdLmNsaWVudFk7XHJcblx0XHR0aGlzLmRlbHRhID0gTWF0aC5zcXJ0KGRlbHRhWCpkZWx0YVggKyBkZWx0YVkqZGVsdGFZKTtcclxuXHJcblx0XHRpZiAodGhpcy56b29tU3RhcnRIYW5kbGVyICE9IG51bGwpIHtcclxuXHRcdFx0bGV0IHggPSAodGhpcy5jYWNoZVswXS5jbGllbnRYICsgdGhpcy5jYWNoZVsxXS5jbGllbnRYKSAvIDI7XHJcblx0XHRcdGxldCB5ID0gKHRoaXMuY2FjaGVbMF0uY2xpZW50WSArIHRoaXMuY2FjaGVbMV0uY2xpZW50WSkgLyAyO1xyXG5cclxuXHRcdFx0dGhpcy56b29tU3RhcnRIYW5kbGVyKHsgeDogeCwgeTogeSwgc2NhbGU6IDEsIH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHQvKiogQ29udGludWUgdGhlIHpvb20gZ2VzdHVyZS5cclxuXHQgKlxyXG5cdCAqIFVzZXMgdGhpcy5jYWNoZVswXSBhbmQgdGhpcy5jYWNoZVsxXSBwb2ludGVycy5cclxuXHQgKiBVc2VzIHRoaXMueCBhbmQgdGhpcy55LlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgdXBkYXRlWm9vbSgpIHtcclxuXHRcdGlmICh0aGlzLnpvb21VcGRhdGVIYW5kbGVyICE9IG51bGwpIHtcclxuXHRcdFx0bGV0IHggPSAodGhpcy5jYWNoZVswXS5jbGllbnRYICsgdGhpcy5jYWNoZVsxXS5jbGllbnRYKSAvIDI7XHJcblx0XHRcdGxldCB5ID0gKHRoaXMuY2FjaGVbMF0uY2xpZW50WSArIHRoaXMuY2FjaGVbMV0uY2xpZW50WSkgLyAyO1xyXG5cdFx0XHRsZXQgZGVsdGFYID0gdGhpcy5jYWNoZVswXS5jbGllbnRYIC0gdGhpcy5jYWNoZVsxXS5jbGllbnRYO1xyXG5cdFx0XHRsZXQgZGVsdGFZID0gdGhpcy5jYWNoZVswXS5jbGllbnRZIC0gdGhpcy5jYWNoZVsxXS5jbGllbnRZO1xyXG5cdFx0XHRsZXQgZGVsdGEgPSBNYXRoLnNxcnQoZGVsdGFYKmRlbHRhWCArIGRlbHRhWSpkZWx0YVkpO1xyXG5cclxuXHRcdFx0dGhpcy56b29tVXBkYXRlSGFuZGxlcih7IHg6IHgsIHk6IHksIHNjYWxlOiBkZWx0YSAvIHRoaXMuZGVsdGEsIH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHQvKiogU3RvcCB0aGUgem9vbSBnZXN0dXJlLlxyXG5cdCAqXHJcblx0ICogVXNlcyB0aGlzLmNhY2hlWzBdIGFuZCB0aGlzLmNhY2hlWzFdIHBvaW50ZXJzLlxyXG5cdCAqIFVzZXMgdGhpcy54IGFuZCB0aGlzLnkuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBzdG9wWm9vbSgpIHtcclxuXHRcdGlmICh0aGlzLnpvb21TdG9wSGFuZGxlciAhPSBudWxsKSB7XHJcblx0XHRcdGxldCB4ID0gKHRoaXMuY2FjaGVbMF0uY2xpZW50WCArIHRoaXMuY2FjaGVbMV0uY2xpZW50WCkgLyAyO1xyXG5cdFx0XHRsZXQgeSA9ICh0aGlzLmNhY2hlWzBdLmNsaWVudFkgKyB0aGlzLmNhY2hlWzFdLmNsaWVudFkpIC8gMjtcclxuXHRcdFx0bGV0IGRlbHRhWCA9IHRoaXMuY2FjaGVbMF0uY2xpZW50WCAtIHRoaXMuY2FjaGVbMV0uY2xpZW50WDtcclxuXHRcdFx0bGV0IGRlbHRhWSA9IHRoaXMuY2FjaGVbMF0uY2xpZW50WSAtIHRoaXMuY2FjaGVbMV0uY2xpZW50WTtcclxuXHRcdFx0bGV0IGRlbHRhID0gTWF0aC5zcXJ0KGRlbHRhWCpkZWx0YVggKyBkZWx0YVkqZGVsdGFZKTtcclxuXHJcblx0XHRcdHRoaXMuem9vbVN0b3BIYW5kbGVyKHsgeDogeCwgeTogeSwgc2NhbGU6IGRlbHRhIC8gdGhpcy5kZWx0YSwgfSk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsIi8qKiBPcHRpb25hbCBjb25maWd1cmF0aW9uIGZvciBpbml0aWFsaXphdGlvbiBvZiBhIFNpZGVNZW51LiAqL1xyXG5pbnRlcmZhY2UgU2lkZU1lbnVDb25maWcge1xyXG5cdC8vIFRoZSB3aWR0aCBvZiB0aGUgb3BlbmVkIG1lbnUgaW4gcG9pbnRzLlxyXG5cdHdpZHRoPzogbnVtYmVyLFxyXG5cdC8vIFRoZSBtYXJnaW4gYmV0d2VlbiB0aGUgb3BlbmVkIG1lbnUgYW5kIHRoZSBidXR0b24gaW4gcG9pbnRzLlxyXG5cdG1hcmdpbj86IG51bWJlcixcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2lkZU1lbnUge1xyXG5cdHB1YmxpYyBzdGF0aWMgREVGQVVMVF9XSURUSCA9IDMwMDtcclxuXHRwdWJsaWMgc3RhdGljIERFRkFVTFRfTUFSR0lOID0gMjA7XHJcblxyXG5cdHB1YmxpYyBtZW51OiBIVE1MRWxlbWVudDtcclxuXHRwdWJsaWMgYnV0dG9uOiBIVE1MRWxlbWVudDtcclxuXHJcblx0cHJpdmF0ZSB3aWR0aDogbnVtYmVyID0gU2lkZU1lbnUuREVGQVVMVF9XSURUSDtcclxuXHRwcml2YXRlIG1hcmdpbjogbnVtYmVyID0gU2lkZU1lbnUuREVGQVVMVF9NQVJHSU47XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihcclxuXHRcdG1lbnU6IEhUTUxFbGVtZW50LFxyXG5cdFx0YnV0dG9uOiBIVE1MRWxlbWVudCxcclxuXHRcdGNvbmZpZz86IFNpZGVNZW51Q29uZmlnXHJcblx0KSB7XHJcblx0XHR0aGlzLm1lbnUgPSBtZW51O1xyXG5cdFx0dGhpcy5idXR0b24gPSBidXR0b247XHJcblx0XHRpZiAoY29uZmlnICE9IG51bGwpIHtcclxuXHRcdFx0dGhpcy53aWR0aCA9IGNvbmZpZy53aWR0aCB8fCBTaWRlTWVudS5ERUZBVUxUX1dJRFRIO1xyXG5cdFx0XHR0aGlzLm1hcmdpbiA9IGNvbmZpZy5tYXJnaW4gfHwgU2lkZU1lbnUuREVGQVVMVF9NQVJHSU47XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRvZ2dsZS5iaW5kKHRoaXMpKTtcclxuXHR9XHJcblxyXG5cdC8qKiBPcGVuIHRoZSBzaWRlIG1lbnUuICovXHJcblx0cHVibGljIG9wZW4oKSB7XHJcblx0XHR0aGlzLm1lbnUuc3R5bGUud2lkdGggPSBgJHt0aGlzLndpZHRofXB0YDtcclxuXHRcdHRoaXMuYnV0dG9uLnN0eWxlLm1hcmdpblJpZ2h0ID0gYCR7dGhpcy53aWR0aCArIHRoaXMubWFyZ2lufXB0YDtcclxuXHRcdC8vIFRPRE86IGFuaW1hdGUgYnV0dG9uXHJcblx0fVxyXG5cclxuXHQvKiogQ2xvc2UgdGhlIHNpZGUgbWVudS4gKi9cclxuXHRwdWJsaWMgY2xvc2UoKSB7XHJcblx0XHR0aGlzLm1lbnUuc3R5bGUud2lkdGggPSAnMCc7XHJcblx0XHR0aGlzLmJ1dHRvbi5zdHlsZS5tYXJnaW5SaWdodCA9IGAke3RoaXMubWFyZ2lufXB0YDtcclxuXHRcdC8vIFRPRE86IGFuaW1hdGUgYnV0dG9uXHJcblx0fVxyXG5cclxuXHQvKiogVG9nZ2xlIGJldHdlZW4gb3BlbiBhbmQgY2xvc2VkIHN0YXRlcy4gKi9cclxuXHRwdWJsaWMgdG9nZ2xlKCkge1xyXG5cdFx0aWYgKHRoaXMubWVudS5zdHlsZS53aWR0aCA9PT0gYCR7dGhpcy53aWR0aH1wdGApIHtcclxuXHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5vcGVuKCk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsIi8qKiBTZXR1cCBhIGZ1bGwgdmlldyByZW5kZXIgdGhhdCB1c2VzIHRoZSBwcm92aWRlZCBmcmFnbWVudCBzaGFkZXIuXHJcbiAqIEBwYXJhbSBnbCBUaGUgY29udGV4dCB0byBzZXR1cCBmb3IgcmVuZGVyaW5nLlxyXG4gKiBAcGFyYW0gZnJhZyBUaGUgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZSB0byB1c2UuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0dXBTY3JlZW5SZW5kZXJlcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBmcmFnOiBzdHJpbmcpIHtcclxuXHRjb25zdCBzaGFkZXIgPSBpbml0U2hhZGVyUHJvZ3JhbShnbCwgZnJhZyk7XHJcblx0aWYgKHNoYWRlciA9PSBudWxsKSB7XHJcblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdH1cclxuXHJcblx0aW5pdFF1YWQoZ2wsIHNoYWRlcik7XHJcblxyXG5cdHJldHVybiBzaGFkZXI7XHJcbn1cclxuXHJcbi8qKiBDb21waWxlIGFuZCBsaW5rIHNoYWRlciBwcm9ncmFtIHVzaW5nIHByb3ZpZGVkIGZyYWdtZW50IHNoYWRlci5cclxuICogQHBhcmFtIGdsIFRoZSBjb250ZXh0IHRvIHVzZSB0byBjcmVhdGUgdGhlIHNoYWRlciBwcm9ncmFtLlxyXG4gKiBAcGFyYW0gZnJhZyBUaGUgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZSB0byB1c2UuXHJcbiAqIEByZXR1cm5zIFRoZSBpbml0aWFsaXplZCBwcm9ncmFtIGlmIHN1Y2Nlc3NmdWwgb3IgdW5kZWZpbmVkIG90aGVyd2lzZS5cclxuICovXHJcbmZ1bmN0aW9uIGluaXRTaGFkZXJQcm9ncmFtKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIGZyYWc6IHN0cmluZykge1xyXG5cdC8vIENvbXBpbGUgdmVydGV4IHNoYWRlclxyXG5cdGNvbnN0IHZlcnRleFNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKSE7XHJcblx0Z2wuc2hhZGVyU291cmNlKHZlcnRleFNoYWRlciwgVkVSVEVYX1NIQURFUl9TUkMpO1xyXG5cdGdsLmNvbXBpbGVTaGFkZXIodmVydGV4U2hhZGVyKTtcclxuXHJcblx0aWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIodmVydGV4U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcclxuXHRcdGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gY29tcGlsZSB2ZXJ0ZXggc2hhZGVyOlxcblwiXHJcblx0XHRcdCsgZ2wuZ2V0U2hhZGVySW5mb0xvZyh2ZXJ0ZXhTaGFkZXIpKTtcclxuXHRcdGdsLmRlbGV0ZVNoYWRlcih2ZXJ0ZXhTaGFkZXIpO1xyXG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHR9XHJcblxyXG5cdC8vIENvbXBpbGUgZnJhZ21lbnQgc2hhZGVyXHJcblx0Y29uc3QgZnJhZ21lbnRTaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKSE7XHJcblx0Z2wuc2hhZGVyU291cmNlKGZyYWdtZW50U2hhZGVyLCBmcmFnKTtcclxuXHRnbC5jb21waWxlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcclxuXHJcblx0aWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoZnJhZ21lbnRTaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xyXG5cdFx0Y29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBjb21waWxlIGZyYWdtZW50IHNoYWRlcjpcXG5cIlxyXG5cdFx0XHQrIGdsLmdldFNoYWRlckluZm9Mb2coZnJhZ21lbnRTaGFkZXIpKTtcclxuXHRcdGdsLmRlbGV0ZVNoYWRlcih2ZXJ0ZXhTaGFkZXIpO1xyXG5cdFx0Z2wuZGVsZXRlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcclxuXHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0fVxyXG5cclxuXHQvLyBMaW5rIHRoZSBzaGFkZXIgcHJvZ3JhbVxyXG5cdGNvbnN0IHNoYWRlclByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCkhO1xyXG5cclxuXHRnbC5hdHRhY2hTaGFkZXIoc2hhZGVyUHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcclxuXHRnbC5hdHRhY2hTaGFkZXIoc2hhZGVyUHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xyXG5cdGdsLmxpbmtQcm9ncmFtKHNoYWRlclByb2dyYW0pO1xyXG5cclxuXHRpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIoc2hhZGVyUHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XHJcblx0XHRjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGxpbmsgc2hhZGVyIHByb2dyYW06XFxuXCJcclxuXHRcdFx0KyBnbC5nZXRQcm9ncmFtSW5mb0xvZyhzaGFkZXJQcm9ncmFtKSk7XHJcblx0XHRnbC5kZWxldGVTaGFkZXIodmVydGV4U2hhZGVyKTtcclxuXHRcdGdsLmRlbGV0ZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XHJcblx0XHRnbC5kZWxldGVQcm9ncmFtKHNoYWRlclByb2dyYW0pO1xyXG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHR9XHJcblxyXG5cdGdsLmRlbGV0ZVNoYWRlcih2ZXJ0ZXhTaGFkZXIpO1xyXG5cdGdsLmRlbGV0ZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XHJcblx0cmV0dXJuIHNoYWRlclByb2dyYW07XHJcbn1cclxuXHJcbi8qKiBJbml0aWFsaXplIHRoZSB2aWV3cG9ydCBxdWFkLlxyXG4gKlxyXG4gKiBDcmVhdGVzIGFuZCBiaW5kcyBwb3NpdGlvbiBidWZmZXIuXHJcbiAqIEBwYXJhbSBnbCBUaGUgY29udGV4dCB0byB1c2Ugd2hpbGUgc2V0dGluZyB1cCB0aGUgYnVmZmVyLlxyXG4gKiBAcGFyYW0gcHJvZ3JhbSBUaGUgcHJvZ3JhbSB0aGF0IHdpbGwgYmUgdXNlZCB0byByZW5kZXIgdGhlIHF1YWQuXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0UXVhZChnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBwcm9ncmFtOiBXZWJHTFByb2dyYW0pIHtcclxuXHRjb25zdCBidWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKSE7XHJcblx0Z2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlcik7XHJcblx0Z2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIFNDUkVFTl9RVUFEX1BPU0lUSU9OUywgZ2wuU1RBVElDX0RSQVcpO1xyXG5cdGNvbnN0IGF0dHJpYiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIEFUVFJJQl9OQU1FX1ZFUlRFWF9QT1NJVElPTik7XHJcblx0Z2wudmVydGV4QXR0cmliUG9pbnRlcihhdHRyaWIsIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XHJcblx0Z2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYXR0cmliKTtcdFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQVRUUklCX05BTUVfVkVSVEVYX1BPU0lUSU9OID0gJ2FQb3MnO1xyXG5jb25zdCBWRVJURVhfU0hBREVSX1NSQyA9IGBhdHRyaWJ1dGUgbG93cCB2ZWMyICR7QVRUUklCX05BTUVfVkVSVEVYX1BPU0lUSU9OfTt2b2lkIG1haW4oKXtnbF9Qb3NpdGlvbj12ZWM0KCR7QVRUUklCX05BTUVfVkVSVEVYX1BPU0lUSU9OfSwwLDEpO31gO1xyXG5jb25zdCBTQ1JFRU5fUVVBRF9QT1NJVElPTlMgPSBuZXcgRmxvYXQzMkFycmF5KFsgMSwgMSwgLTEsIDEsIDEsIC0xLCAtMSwgLTEsIF0pO1xyXG4iLCJpbXBvcnQgeyBzZXR1cFNjcmVlblJlbmRlcmVyIH0gZnJvbSBcIi4vZnJhZ19yZW5kZXJlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZpZXdlcjxDPiB7XHJcblx0XHJcblx0cHJpdmF0ZSBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xyXG5cdHByaXZhdGUgcHJvZ3JhbTogV2ViR0xQcm9ncmFtO1xyXG5cdHByaXZhdGUgdW5pZm9ybXM6IHsgW1Byb3BlcnR5IGluIGtleW9mIENdOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiB9O1xyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcblx0XHRwcm9ncmFtOiBXZWJHTFByb2dyYW0sXHJcblx0XHR1bmlmb3JtczogeyBbUHJvcGVydHkgaW4ga2V5b2YgQ106IFdlYkdMVW5pZm9ybUxvY2F0aW9uIH1cclxuXHQpIHtcclxuXHRcdHRoaXMuZ2wgPSBnbDtcclxuXHRcdHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XHJcblx0XHR0aGlzLnVuaWZvcm1zID0gdW5pZm9ybXM7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0PFQgZXh0ZW5kcyBrZXlvZiBDPihrZXk6IFQsIHg6IG51bWJlciwgeT86IG51bWJlciwgej86IG51bWJlciwgdz86IG51bWJlcikge1xyXG5cdFx0dGhpcy5nbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XHJcblx0XHRpZiAoeSAhPSBudWxsKSB7XHJcblx0XHRcdGlmICh6ICE9IG51bGwpIHtcclxuXHRcdFx0XHRpZiAodyAhPSBudWxsKSB7XHJcblx0XHRcdFx0XHR0aGlzLmdsLnVuaWZvcm00Zih0aGlzLnVuaWZvcm1zW2tleV0sIHgsIHksIHosIHcpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR0aGlzLmdsLnVuaWZvcm0zZih0aGlzLnVuaWZvcm1zW2tleV0sIHgsIHksIHopO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLmdsLnVuaWZvcm0yZih0aGlzLnVuaWZvcm1zW2tleV0sIHgsIHkpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmdsLnVuaWZvcm0xZih0aGlzLnVuaWZvcm1zW2tleV0sIHgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIHNldGk8VCBleHRlbmRzIGtleW9mIEM+KGtleTogVCwgeDogbnVtYmVyLCB5PzogbnVtYmVyLCB6PzogbnVtYmVyLCB3PzogbnVtYmVyKSB7XHJcblx0XHR0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcclxuXHRcdGlmICh5ICE9IG51bGwpIHtcclxuXHRcdFx0aWYgKHogIT0gbnVsbCkge1xyXG5cdFx0XHRcdGlmICh3ICE9IG51bGwpIHtcclxuXHRcdFx0XHRcdHRoaXMuZ2wudW5pZm9ybTRpKHRoaXMudW5pZm9ybXNba2V5XSwgeCwgeSwgeiwgdyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHRoaXMuZ2wudW5pZm9ybTNpKHRoaXMudW5pZm9ybXNba2V5XSwgeCwgeSwgeik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuZ2wudW5pZm9ybTJpKHRoaXMudW5pZm9ybXNba2V5XSwgeCwgeSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuZ2wudW5pZm9ybTFpKHRoaXMudW5pZm9ybXNba2V5XSwgeCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZHJhdygpIHtcclxuXHRcdHRoaXMuZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xyXG5cdFx0dGhpcy5nbC5kcmF3QXJyYXlzKHRoaXMuZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHJlcXVlc3REcmF3KCkge1xyXG5cdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMuZHJhdygpKTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVZpZXdlcjxUIGV4dGVuZHMge1tuYW1lOiBzdHJpbmddOiBhbnl9PihcclxuXHRjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LFxyXG5cdGZyYWdTcmM6IHN0cmluZyxcclxuXHR1bmlmb3JtczogVCxcclxuKTogVmlld2VyPFQ+IHwgdW5kZWZpbmVkIHtcclxuXHRjb25zdCBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcpO1xyXG5cdGlmIChnbCA9PSBudWxsKSB7XHJcblx0XHRjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGdldCBhIFdlYkdMIGNvbnRleHQhXCIpO1xyXG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHR9XHJcblxyXG5cdGNvbnN0IHByb2dyYW0gPSBzZXR1cFNjcmVlblJlbmRlcmVyKGdsLCBmcmFnU3JjKTtcclxuXHJcblx0aWYgKHByb2dyYW0gPT0gbnVsbCkge1xyXG5cdFx0Y29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBzZXR1cCBzY3JlZW4gcmVuZGVyZXIhXCIpO1xyXG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHR9XHJcblxyXG5cdGxldCB1bmlmb3JtTG9jYXRpb25zOiB7IFtuYW1lOiBzdHJpbmddOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiB9ID0ge307XHJcblx0Zm9yIChjb25zdCBuYW1lIGluIHVuaWZvcm1zKSB7XHJcblx0XHRjb25zdCBsb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBuYW1lKTtcclxuXHRcdGlmIChsb2NhdGlvbiA9PSBudWxsKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBmaW5kIFwiJHtuYW1lfVwiIHVuaWZvcm0gaW4gdGhlIHN1cHBsaWVkIHNoYWRlciFgKTtcclxuXHRcdFx0Z2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcclxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHRcdHVuaWZvcm1Mb2NhdGlvbnNbbmFtZV0gPSBsb2NhdGlvbjtcclxuXHR9XHJcblxyXG5cdGNvbnN0IHVuaWZvcm1Mb2NzID0gdW5pZm9ybUxvY2F0aW9ucyBhcyB7IFtQcm9wZXJ0eSBpbiBrZXlvZiBUXTogV2ViR0xVbmlmb3JtTG9jYXRpb24gfTtcclxuXHRyZXR1cm4gbmV3IFZpZXdlcihnbCwgcHJvZ3JhbSwgdW5pZm9ybUxvY3MpO1xyXG59XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBsZXQgdmVydGV4U2hhZGVyID0gZmV0Y2goJ3NoYWRlcnMvaWRlbnRpdHkudnMnKTtcclxuXHJcbmltcG9ydCB7IGRlc2VyaWFsaXplIH0gZnJvbSBcIm5vZGU6djhcIjtcclxuaW1wb3J0IHsgR2VzdHVyZURlY29kZXIsIERyYWdFdmVudCBhcyBEcmFnR2VzdCwgWm9vbUV2ZW50IGFzIFpvb21HZXN0IH0gZnJvbSBcIi4uL2xpYi9nZXN0dXJlXCI7XHJcbmltcG9ydCBTaWRlTWVudSBmcm9tIFwiLi4vbGliL3NpZGVfbWVudVwiO1xyXG5pbXBvcnQgY3JlYXRlVmlld2VyIGZyb20gXCIuL3ZpZXdlclwiO1xyXG5cclxuY29uc3QgV0hFRUxfU0VOU0lUSVZJVFkgPSAtMWUtMztcclxuXHJcbmZ1bmN0aW9uIHNldHVwTWFuZGVsYnJvdChmcmFnbWVudDogc3RyaW5nKSB7XHJcblx0bGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuXHRjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuXHRjYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG5cclxuXHRsZXQgdmlld2VyID0gY3JlYXRlVmlld2VyKGNhbnZhcywgZnJhZ21lbnQsIHsgdVJlczogbnVsbCwgdVJlY3Q6IG51bGwsIHVMaW1pdDogbnVsbCwgdUxpbWl0Q29sb3I6IG51bGwgfSk7XHJcblxyXG5cdGlmICh2aWV3ZXIgPT0gbnVsbCkge1xyXG5cdFx0YWxlcnQoXCJGYWlsZWQgdG8gc2V0dXAgV2ViR0wgOihcIik7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHRjb25zdCBsaW1pdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaW1pdCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblx0XHJcblx0Y29uc3Qgd2lkdGhUb0hlaWdodCA9IGNhbnZhcy53aWR0aCAvIGNhbnZhcy5oZWlnaHQ7XHJcblx0bGV0IHJlY3QgPSBuZXcgRE9NUmVjdCgtMSp3aWR0aFRvSGVpZ2h0LCAtMSwgMip3aWR0aFRvSGVpZ2h0LCAyKTtcclxuXHJcblx0dmlld2VyLnNldCgndVJlcycsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcblx0dmlld2VyLnNldCgndVJlY3QnLCByZWN0LngsIHJlY3QueSwgcmVjdC53aWR0aCwgcmVjdC5oZWlnaHQpO1xyXG5cdHZpZXdlci5zZXRpKCd1TGltaXQnLCBOdW1iZXIobGltaXQudmFsdWUpKTtcclxuXHR2aWV3ZXIuc2V0KCd1TGltaXRDb2xvcicsIDAsIDAsIDAsIDEpO1xyXG5cclxuXHR2aWV3ZXIucmVxdWVzdERyYXcoKTtcclxuXHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcclxuXHRcdGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG5cdFx0Y2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHRcdGlmICh2aWV3ZXIgIT0gbnVsbCkge1xyXG5cdFx0XHRjb25zdCB3aWR0aFRvSGVpZ2h0ID0gY2FudmFzLndpZHRoIC8gY2FudmFzLmhlaWdodDtcclxuXHRcdFx0cmVjdC54ID0gLTEqd2lkdGhUb0hlaWdodDtcclxuXHRcdFx0cmVjdC55ID0gLTE7XHJcblx0XHRcdHJlY3Qud2lkdGggPSAyKndpZHRoVG9IZWlnaHQ7XHJcblx0XHRcdHJlY3QuaGVpZ2h0ID0gMjtcclxuXHJcblx0XHRcdHZpZXdlci5zZXQoJ3VSZXMnLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG5cdFx0XHR2aWV3ZXIuc2V0KCd1UmVjdCcsIHJlY3QueCwgcmVjdC55LCByZWN0LndpZHRoLCByZWN0LmhlaWdodCk7XHJcblx0XHRcdHZpZXdlci5yZXF1ZXN0RHJhdygpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRsaW1pdC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuXHRcdHZpZXdlciEuc2V0aSgndUxpbWl0JywgTnVtYmVyKGxpbWl0LnZhbHVlKSk7XHJcblx0XHR2aWV3ZXIhLnJlcXVlc3REcmF3KCk7XHJcblx0fSk7XHJcblxyXG5cdGNvbnN0IHBhblZpZXcgPSAoZHg6IG51bWJlciwgZHk6IG51bWJlcikgPT4ge1xyXG5cdFx0cmVjdC54IC09IGR4IC8gY2FudmFzLndpZHRoICogcmVjdC53aWR0aDtcclxuXHRcdHJlY3QueSArPSBkeSAvIGNhbnZhcy5oZWlnaHQgKiByZWN0LmhlaWdodDtcclxuXHRcdHZpZXdlciEuc2V0KCd1UmVjdCcsIHJlY3QueCwgcmVjdC55LCByZWN0LndpZHRoLCByZWN0LmhlaWdodCk7XHJcblx0XHR2aWV3ZXIhLnJlcXVlc3REcmF3KCk7XHJcblx0fTtcclxuXHRjb25zdCB6b29tVmlldyA9ICh4OiBudW1iZXIsIHk6IG51bWJlciwgc2NhbGU6IG51bWJlcikgPT4ge1xyXG5cdFx0Y29uc3QgbnggPSB4IC8gY2FudmFzLndpZHRoO1xyXG5cdFx0Y29uc3QgbnkgPSAxIC0geSAvIGNhbnZhcy5oZWlnaHQ7XHJcblx0XHQvLyBUaGUgcmVsYXRpdmUgcG9pbnRzIHgrbngqdyBzaG91bGQgc3RheSB0aGUgc2FtZSBhZnRlciBzY2FsaW5nXHJcblx0XHRyZWN0LnggKz0gcmVjdC53aWR0aCAqIG54ICogKHNjYWxlIC0gMSk7XHJcblx0XHRyZWN0LnkgKz0gcmVjdC5oZWlnaHQgKiBueSAqIChzY2FsZSAtIDEpO1xyXG5cdFx0cmVjdC53aWR0aCAvPSBzY2FsZTtcclxuXHRcdHJlY3QuaGVpZ2h0IC89IHNjYWxlO1xyXG5cdFx0dmlld2VyIS5zZXQoJ3VSZWN0JywgcmVjdC54LCByZWN0LnksIHJlY3Qud2lkdGgsIHJlY3QuaGVpZ2h0KTtcclxuXHRcdHZpZXdlciEucmVxdWVzdERyYXcoKTtcclxuXHR9O1xyXG5cclxuXHRsZXQgZ2VzdHVyZURlY29kZXIgPSBuZXcgR2VzdHVyZURlY29kZXIoY2FudmFzKTtcclxuXHRsZXQgbGFzdFggPSAwLCBsYXN0WSA9IDA7XHJcblx0Y29uc3QgaGFuZGxlRHJhZyA9IChkcmFnOiBEcmFnR2VzdCkgPT4ge1xyXG5cdFx0Y29uc3QgZHggPSBkcmFnLnggLSBsYXN0WCwgZHkgPSBkcmFnLnkgLSBsYXN0WTtcclxuXHRcdGlmIChkeCAhPSAwIHx8IGR5ICE9IDApIHtcclxuXHRcdFx0cGFuVmlldyhkeCwgZHkpO1xyXG5cdFx0fVxyXG5cdFx0bGFzdFggPSBkcmFnLng7XHJcblx0XHRsYXN0WSA9IGRyYWcueTtcclxuXHR9O1xyXG5cclxuXHRsZXQgbGFzdFNjYWxlID0gMTtcclxuXHRjb25zdCBoYW5kbGVab29tID0gKHpvb206IFpvb21HZXN0KSA9PiB7XHJcblx0XHRoYW5kbGVEcmFnKHpvb20pO1xyXG5cdFx0aWYgKGxhc3RTY2FsZSAhPSB6b29tLnNjYWxlKSB7XHJcblx0XHRcdGNvbnN0IGR6ID0gem9vbS5zY2FsZSAvIGxhc3RTY2FsZTtcclxuXHRcdFx0em9vbVZpZXcoem9vbS54LCB6b29tLnksIGR6KTtcclxuXHRcdH1cclxuXHRcdGxhc3RTY2FsZSA9IHpvb20uc2NhbGU7XHJcblx0fTtcclxuXHJcblx0Z2VzdHVyZURlY29kZXIub24oJ2RyYWdzdGFydCcsICh7IHgsIHkgfSkgPT4geyBsYXN0WCA9IHg7IGxhc3RZID0geTsgfSk7XHJcblx0Z2VzdHVyZURlY29kZXIub24oJ2RyYWd1cGRhdGUnLCBoYW5kbGVEcmFnKTtcclxuXHRnZXN0dXJlRGVjb2Rlci5vbignZHJhZ3N0b3AnLCBoYW5kbGVEcmFnKTtcclxuXHJcblx0Z2VzdHVyZURlY29kZXIub24oJ3pvb21zdGFydCcsICh7IHgsIHksIHNjYWxlIH0pID0+IHtcclxuXHRcdGxhc3RYID0geCwgbGFzdFkgPSB5O1xyXG5cdFx0bGFzdFNjYWxlID0gc2NhbGU7XHJcblx0fSk7XHJcblx0Z2VzdHVyZURlY29kZXIub24oJ3pvb211cGRhdGUnLCBoYW5kbGVab29tKTtcclxuXHRnZXN0dXJlRGVjb2Rlci5vbignem9vbXN0b3AnLCBoYW5kbGVab29tKTtcclxuXHJcblx0Y2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgKHsgeCwgeSwgZGVsdGFZIH0pID0+IHtcclxuXHRcdGNvbnN0IGR6ID0gMSArIGRlbHRhWSAqIFdIRUVMX1NFTlNJVElWSVRZO1xyXG5cdFx0em9vbVZpZXcoeCwgeSwgZHopO1xyXG5cdH0pO1xyXG5cclxuXHRyZXR1cm4gdmlld2VyO1xyXG59XHJcblxyXG5mZXRjaCgnc2hhZGVycy9tYW5kZWwuZnMnKVxyXG5cdC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSlcclxuXHQudGhlbihzcmMgPT4gc2V0dXBNYW5kZWxicm90KHNyYykpO1xyXG5cclxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcclxuXHRjb25zdCBtZW51ID0gbmV3IFNpZGVNZW51KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWRlLW1lbnUnKSEsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGUtbWVudScpISk7XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=